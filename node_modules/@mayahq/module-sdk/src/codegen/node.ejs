<script type='text/javascript'>
    RED.nodes.registerType("<%= name %>", {
        category: "<%= isConfig ? 'config' : category %>",
        color: "<%= color %>",
        defaults: {
            name: { value: "" },
            isProfileConfigNode: { value: <%- isProfileConfigNode %>},
            <% defaultsCode.forEach((code) => { -%>
                <%- code %>
            <% }) -%>
        },
        <% if (hasCredentials) { -%>
            credentials: {
                <% credentialsCode.forEach((code) => { -%>
                    <%- code %>
                <% }) -%>
            },
        <% } -%>
        inputs: <%= numInputs %>,
        outputs: <%= numOutputs %>,
        icon: "<%= icon %>",
        label: function() {
            return this.name || "<%= label %>"
        },
        paletteLabel: "<%= label %>",
        exportable: <%= exportable.toString() %>,
        oneditprepare: function() {
            <% onEditPrepareCode.forEach((code) => { -%>
                <%- code %>

            <% }) -%>
        },
        oneditsave: function() {
            <% onEditSaveCode.forEach((code) => { -%>
                <%- code %>

            <% }) -%>
        },
        oneditcancel: function() {
            <% onEditCancelCode.forEach((code) => { -%>
                <%- code %>

            <% }) -%>
        },
        oneditdelete: function() {
            <% onEditDeleteCode.forEach((code) => { -%>
                <%- code %>

            <% }) -%>
        },
        oneditresize: function() {
            <% onEditResizeCode.forEach((code) => { -%>
                <%- code %>

            <% }) -%>
        },
        onpaletteadd: function() {
            <% onPaletteAddCode.forEach((code) => { -%>
                <%- code %>

            <% }) -%>
        },
        onpaletteremove: function() {
            <% onPaletteRemoveCode.forEach((code) => { -%>
                <%- code %>

            <% }) -%>
        }
    });
</script>

<script type="text/html" data-template-name="<%= name %>">
    <div class="form-row">
        <label for="node<%= isConfig ? '-config' : '' %>-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node<%= isConfig ? '-config' : '' %>-input-name" style="width:70%;" placeholder="Name" />
    </div>
    <% formCode.forEach((code) => { -%>
        <%- code %>
    <% }) -%>
</script>

<script type="text/html" data-help-name="<%= name %>">
    <%- documentation %>
</script>