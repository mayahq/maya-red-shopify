function execGetQuery(targetJson, query) {
    if (Object.keys(query).length === 0) {
        return targetJson
    }

    const result = {}
    Object.entries(query).forEach(([key, val]) => {
        if (targetJson[key] === undefined) {
            result[key] = val
            return
        }

        if (typeof val === 'object') {
            result[key] = execGetQuery(targetJson[key], val)
            return
        }

        result[key] = targetJson[key]
    })

    return result
}

function execSetQuery(targetJson, query) {
    Object.entries(query).forEach(([key, val]) => {
        if (targetJson[key] === undefined) {
            targetJson[key] = val
            return
        }

        if (typeof val === 'object') {
            execSetQuery(targetJson[key], val)
            return
        }

        targetJson[key] = val
    })

    return targetJson
}

module.exports = {
    execGetQuery,
    execSetQuery
}


// FOR TESTING execGetQuery FUNCTION, DO NOT DELETE

// const targetJson = {"bruh":1,"lol":"lmao"}
// const query = {"lol": 1}

// console.log(execGetQuery(targetJson, query))

// const targetJson = {
//     name: 'Dushyant',
//     education: {
//         college: 'BITS Pilani',
//         graduation: 2022,
//         degree: {
//             type: 'single',
//             branch: 'CS'
//         }
//     },
//     address: 'C-154 HKM Nagar'
// }

// const getQuery = {
//     name: 'Raghav',
//     education: {
//         college: 'IIT BHU',
//         graduation: 2021
//     }
// }

// const setQuery = {
//     lastname: 'Yadav',
//     education: {
//         joined: 2018,
//         degree: {
//             type: 'dual',
//             secondDegree: 'maths'
//         }
//     }
// }

// // console.log(execGetQuery(targetJson, getQuery))
// console.log(execSetQuery(targetJson, setQuery))