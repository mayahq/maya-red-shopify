"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.httpAdapter = exports.mongoDbAdapter = exports.localDb = void 0;
var fileio_1 = require("./io/filesystem/fileio");
var collection_1 = require("./storage/collection");
var mongoIo_1 = require("./io/mongo/mongoIo");
var http_1 = require("./io/http/http");
function localDb(_a) {
    var encryptionKey = _a.encryptionKey, root = _a.root;
    var client = new fileio_1.FileIOClient({ encryptionKey: encryptionKey });
    var db = new collection_1.Collection({ absPath: root, io: client });
    return db;
}
exports.localDb = localDb;
function mongoDbAdapter(_a) {
    var root = _a.root;
    var client = new mongoIo_1.MongoIoClient();
    var db = new collection_1.Collection({ absPath: root, io: client });
    return db;
}
exports.mongoDbAdapter = mongoDbAdapter;
function httpAdapter(_a) {
    var apiUrl = _a.apiUrl, root = _a.root, headers = _a.headers;
    var io = new http_1.HttpIoClient({
        apiUrl: apiUrl,
        headers: headers
    });
    var db = new collection_1.Collection({ absPath: root, io: io });
    return db;
}
exports.httpAdapter = httpAdapter;
